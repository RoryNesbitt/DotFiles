#!/bin/sh

if [ $# = 1 ]; then
    if [ $1 = 'w' ]; then
        session='work'
    elif [ $1 = 'ww' ]; then
        session='work-website'
	else
	session=$1
    fi

    if ! tmux has-session -t $session 2> /dev/null; then
        tmux new -s $session -d
	if [ $session = 'work' ]; then
		tmux send-keys -t work 'cd ~/Documents/work' Enter
		tmux new-window -t work:2
		tmux split-window -h -t work:2
		tmux send-keys -t work:1 'nvim .' Enter
		tmux send-keys -t work:2.1 ./start
		tmux select-window -t work:1
	elif [ $session = 'work-website' ]; then
		tmux send-keys -t work-website 'cd ~/Documents/work-website' Enter
		tmux send-keys -t work-website:1 './home.sh' Enter
	elif [ $session = 'scripts' ]; then
		tmux send-keys -t scripts 'cd ~/.bin' Enter
		tmux send-keys -t scripts 'nvim .' Enter
	fi  # if $session is 'x'
    fi  # has-session work

    if [ "$TMUX" = "" ]; then
        tmux attach-session -t $session
    else
        tmux switch-client -t $session
    fi
fi


